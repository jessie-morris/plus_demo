<html>
	<head>
		<link rel="stylesheet" href="style.css">
		<script type="text/javascript" src="tabHandler.js"></script>
		<script>
        function setAttributes(el, attrs) {
            for (var key in attrs) {
                el.setAttribute(key, attrs[key]);
            }
        }
        function addRow() {
            var issueList = document.getElementsByTagName("table")[0]
            var newRow = document.createElement("tr")
            newRow.setAttribute("class", "row")
            var rowHTML = `
                <tr class="row">
                    <td><input class="textbox" type="text" placeholder="minutes"></input></td>
                    <td><input class="textbox" type="text" placeholder="Area"></input></td>
                    <td><input class="textbox" type="text"></input></td>
                    <td><input class="textbox" type="text" placeholder="Describe issue here"></input></td>
                    <td><div class="status_indicator">
                        <div class="status_dot" onClick="changeStatusDot(this)"></div>
                    </div></td>
                </tr>`
            newRow.innerHTML = rowHTML
            issueList.appendChild(newRow)
        }
        function deleteRow() {
            var rows = document.getElementsByClassName("row")
            var lastRow = rows[rows.length - 1]
            if (rows.length > 1) {
                lastRow.remove()
            }
        }
        function changeStatusDot(e) {
            var currentColor = e.style.backgroundColor
            if (currentColor == 'white') {
                e.setAttribute('style', 'background-color: green')
            }
            else if (currentColor == 'green') {
                e.setAttribute('style', 'background-color: red')
            }
            else if (currentColor == 'red') {
                e.setAttribute('style', 'background-color: white')
            }
            else {
                e.setAttribute('style', 'background-color: green')
            }
        }
		</script>
		<title>Digital Line Dashboard</title>
		<link rel="stylesheet" href="plus.css">
	</head>

	<body>
		<div class="header">
			<div class="title-strip">
				<img id="logo" src='images/fake-logo.png' />
				<h1>Digital Line Dashboard</h1>
			</div>
			<div class="tabs">
				<button class="tab-link active" onclick="openTab(event, 'tab1')">Safety</button>
				<button class="tab-link" onclick="openTab(event, 'tab2')">Quality</button>
				<button class="tab-link" onclick="openTab(event, 'tab3')">Prev. Day's Issues</button>
			</div>
		</div>

		<div id="tab1" class="tab-content" style="display: block">
			<div id="safety-header" style="background-color: #555555; 
				font-size: 30px; font-family: Arial, Helvetica, sans-serif;
				color: white; font-weight: bolder; text-align: center; margin: 10px 0px; width: 862px; ">SAFETY</div>
			<div id="plus-container">
				<div id="container" style="float: left"></div>
				<img src="images/key.svg" width="230px" height="150px" />
			</div>
			<div id="greenPercent">Accident Free Shifts: 100%</div>

			<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"> </script>
			<script src="plus.js"></script>
		</div>

		<div id="tab2" class="tab-content">
			<img src="images/quality.png" width="550">
		</div>

		<div id="tab3" class="tab-content">
			<h1>Main Problems From Yesterday</h1>
			<table>
				<thead><th>Impact (min)</th><th>Area</th><th class="turns_header">Shift</th><th colspan="2" class="description_box">Description</th></thead>
				<tr class="row">
					<td><input class="textbox" type="text" placeholder="minutes"></input></td>
					<td><input class="textbox" type="text" placeholder="Area"></input></td>
					<td><input class="textbox" type="text"></input></td>
					<td><input class="textbox" type="text" placeholder="Describe issue here"></input></td>
					<td><div class="status_indicator">
						<div class="status_dot" onClick="changeStatusDot(this)"></div>
					</div></td>
				</tr>
			</table>
			
			<br /><br />
			<button onclick="addRow()">Add row</button>
			<button onclick="deleteRow()">Delete row</button>
		</div>


	</body>
</html>

